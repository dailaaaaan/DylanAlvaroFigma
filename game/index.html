<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Retro Bits</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        #game-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-grow: 1;
            width: 1080px;
            height: 607px;
            overflow: hidden;
            position: relative;
        }

		#canvas {
			border-radius: 30px;
			border: 16px solid#2D4DDC;
		}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../index.html">
                <h1>Retro Bits</h1>
            </a>
            <nav>
                <a href="../pages/news.html" class="btn blue">Noticias</a>
                <a href="#" class="btn blue">Minijuegos</a>
                <button class="btn">Cambia Color</button>
            </nav>
        </header>
        
        <div id="game-container">
            <canvas id="canvas"></canvas>
        </div>
		
		<h2 style="text-align: center;">MÁS MINIJUEGOS!</h2>
		<section class="main">
			<div class="content green">
				<a href="https://kindanice.itch.io/dire-decks" target="_blank">
					<img src="../images/dire_decks.png" alt="Retro Gaming">
					<h3>Dire Decks</h3>
				</a>
			</div>
			<div class="content orange">
				<a href="https://kultisti.itch.io/raide" target="_blank">
					<img src="../images/raide.png" alt="Retro Gaming">
					<h3>Raide</h3>
				</a>
			</div>
			<div class="content blue">
				<a href="https://maddymakesgamesinc.itch.io/celesteclassic" target="_blank">
					<img src="../images/celeste.png" alt="Retro Gaming">
					<h3>Celeste</h3>
				</a>
			</div>
		</section>
    </div>
    <script src="../scripts/tema.js"></script>
	<script type='text/javascript' src='index.js'></script>
	<script type='text/javascript'>
		const GODOT_CONFIG = {
			"args": [],
			"canvasResizePolicy": 0,
			"executable": "index",
			"experimentalVK": false,
			"fileSizes": { "index.pck": 392624, "index.wasm": 17865444 },
			"focusCanvas": true,
			"gdnativeLibs": [],
			"windowWidth": 512,
			"windowHeight": 288,
		};

		var engine = new Engine(GODOT_CONFIG);

		// Resolución original
		const ORIGINAL_WIDTH = 512;
		const ORIGINAL_HEIGHT = 288;

		// Función para ajustar las dimensiones del canvas manualmente
		function resizeGame() {
			const container = document.getElementById("game-container");
			const canvas = document.getElementById("canvas");
			canvas.width = ORIGINAL_WIDTH * 2
			canvas.height = ORIGINAL_HEIGHT * 2

			// Redimensionar el motor de Godot
			engine.resizeCanvas(canvas.width, canvas.height);
		}

		// Ajustar el tamaño del juego al cargar y al redimensionar
		window.addEventListener("load", resizeGame);
		window.addEventListener("resize", resizeGame);

		(function () {
			engine.startGame().then(() => {
				console.log("Game loaded");
			}, (err) => {
				console.error(err);
			});
		})();
	</script>
</body>
</html>
